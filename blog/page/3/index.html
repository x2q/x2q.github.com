<!DOCTYPE html> <!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]--><!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]--><!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="utf-8"><title>x2q dot net</title><meta name="author" content="x2q"><meta name="description" content="My father has got a solar water heater system with a SPIII Solar Water Heater Controller.
The controller itself is some crappy closed source with a …"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="canonical" href="http://www.x2q.net/blog/page/3/"><link href="/favicon.png" rel="icon"><link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css"> <script src="/javascripts/modernizr-2.0.js"></script><script src="/javascripts/ender.js"></script><script src="/javascripts/octopress.js"></script><link href="/atom.xml" rel="alternate" title="x2q dot net" type="application/atom+xml"><link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"><link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> <script>var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-120957-15"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body> <header role="banner"><hgroup><h1><a href="/">x2q dot net</a></h1><h2>note to self</h2> </hgroup></header> <nav role="navigation"><ul class="subscription" data-subscription="rss"><li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li></ul><form action="http://google.com/search"><fieldset role="search"> <input type="hidden" name="q" value="site:www.x2q.net"/> <input class="search"  name="q" results="0" placeholder="Search"/></fieldset></form><ul class="main-navigation"><li><a href="/">Blog</a></li><li><a href="/blog/archives">Archives</a></li><li><a href="/about/">About</a></li></ul></nav><div id="main"><div id="content"><div class="blog-index"> <article> <header><h1 class="entry-title"><a href="/blog/2012/10/11/emoncms-spiii-solar-controller-and-current-cost/">EMONCMS: SPIII Solar Controller &amp; Current Cost</a></h1><p class="meta"><time datetime="2012-10-11T16:42:00+02:00" pubdate data-updated="true">Oct 11<span>th</span>, 2012</time></p> </header><div class="entry-content"><p>My father has got a solar water heater system with a SPIII Solar Water Heater Controller. The controller itself is some crappy closed source with a bad interface (non-standard compliant HTML interface) - however it works.</p><p>In order to collect all environmental data from the house we decided to buy a <a href="http://www.raspberrypi.org/">Raspberry PI</a> and a few <a href="http://www.arduino.cc/">Arduino</a> devices.</p><p>So far we are able to collect data from the SPIII Solar Water Heater Controller using <code>curl</code> and from the <a href="http://www.currentcost.com/">Current Cost</a> device (via cosm.com as proxy) using the following bash code:</p><div><script src='https://gist.github.com/3872852.js?file='></script><noscript><pre><code>#!/bin/bash

# Crontab
#  # m h  dom mon dow   command
#  */1 * * * * /home/raspberrypi/SPIII-Current-Cost.sh

function update {

    data=`curl -s --request GET --header "X-ApiKey: &lt;api-key&gt;" \
    http://api.cosm.com/v2/feeds/&lt;feed-id&gt;.csv | awk -F "\"*,\"*" '{print "el-"$1":"$3}' | tr '\n' ','`

    url="http://emoncms.org/api/post?apikey=&lt;api-key&gt;&amp;json={$data}"
    curl $url &gt; /dev/null 2&gt;&amp;1


    data=`curl -s -u admin: http://192.168.1.99/1 \
    | lynx -stdin -dump \
    | sed 's/\///g' \
    | sed 's/Gennemstr.mning/gennemstromning/g' \
    | sed -n '4,12p' \
    | tr "[:upper:]" "[:lower:]" \
    | awk '{printf "sol-"$1":"$2","}'`

    url="http://emoncms.org/api/post?apikey=&lt;api-key&gt;&amp;json={$data}"
    curl $url &gt; /dev/null 2&gt;&amp;1
    sleep 1;

    data=`curl -s -u admin: http://192.168.1.99/6 \
    | lynx -stdin -dump \
    | sed 's/kkal/ kkal/g' \
    | sed 's/Total/total-kcal/g' \
    | sed -n '7,7p' \
    | tr "[:upper:]" "[:lower:]" \
    | awk '{printf "sol-"$1":"$2",sol-total-kwh:"$2*0.00116222222}'`

    url="http://emoncms.org/api/post?apikey=&lt;api-key&gt;&amp;json={$data}"
    curl $url &gt; /dev/null 2&gt;&amp;1
    sleep 1;


    old=`cat /tmp/watth.data`

    current=`curl -s -u admin: http://192.168.1.99/6 \
    | lynx -stdin -dump \
    | sed 's/kkal/ kkal/g' \
    | sed 's/Total/total-kcal/g' \
    | sed -n '7,7p' \
    | tr "[:upper:]" "[:lower:]" \
    | awk '{printf "%i", $2*1.163}'`

    echo $old
    echo $current
    let "watt=($current-$old)"
    echo $watt
    echo "$current" &gt; /tmp/watth.data


    url="http://emoncms.org/api/post?apikey=&lt;api-key&gt;&amp;json={sol-watt:$watt}"
    curl $url &gt; /dev/null 2&gt;&amp;1
    sleep 1;


    data=`curl -s -u admin: http://192.168.1.99/2 \
    | lynx -stdin -dump -display_charset=UTF-8 \
    | sed 's/Elektrisk varme/Elektrisk-varme/g' \
    | sed 's/Aktuelt system/Aktuelt-system/g' \
    | sed 's/stoppet/0/g' \
    | sed 's/k.*rer$/1/g' \
    | sed 's/N\.C\./0/g' \
    | sed 's/N\.O\./1/g' \
    | sed 's/\///g' \
    | sed -n '4,10p' \
    | tr "[:upper:]" "[:lower:]" \
    | awk '{printf "sol-"$1":"$2","}'`

    url="http://emoncms.org/api/post?apikey=&lt;api-key&gt;&amp;json={$data}"
    curl $url &gt; /dev/null 2&gt;&amp;1
}

update
sleep 30;
update
</code></pre></noscript></div><p>The result so far in emoncms:</p><p><img src="http://static.x2q.net/emoncms.png"></p></div></article> <article> <header><h1 class="entry-title"><a href="/blog/2012/10/11/ubuntu-sudo-without-password/">Ubuntu: Sudo Without Password</a></h1><p class="meta"><time datetime="2012-10-11T14:44:00+02:00" pubdate data-updated="true">Oct 11<span>th</span>, 2012</time></p> </header><div class="entry-content"><p>Sudo is a program that allows users to run programs with the security privileges of another user (normally the superuser, or root).</p><p>The <code>/etc/sudoers</code> file allows listed users access to execute a subset of commands while having the privileges of the root user.</p><p>Use <code>visudo</code> to edit <code>/etc/sudoers</code>. It can be edited manually, but it is recommended to use <code>visudo</code> to encure that the syntax is correct.</p><pre><code>sudo visudo
</code></pre><h2>Add Single User</h2><p>Add this line at the end (change <code>x2q</code> to your username):</p><pre><code>x2q ALL=(ALL) NOPASSWD: ALL
</code></pre><h2>Add Group</h2><p>Add this line at the end (change <code>%sudo</code> to your group name):</p><pre><code>%sudo ALL=NOPASSWD: ALL
</code></pre><p>Press Ctrl-X to save your changes, and exit.</p></div></article> <article> <header><h1 class="entry-title"><a href="/blog/2012/06/30/summasummarum-on-linux-using-wine/">SummaSummarum on Linux Using Wine</a></h1><p class="meta"><time datetime="2012-06-30T13:56:25+02:00" pubdate data-updated="true">Jun 30<span>th</span>, 2012</time></p> </header><div class="entry-content"><p>It works out of the box using Wine 1.5, however since I’m using Ubuntu in English SummaSummarum uses English locales; thousand separators, dates etc.</p><p>To change to behavior something like this is required:</p><pre><code>LANG=da_DK.UTF-8 /usr/bin/wine SummaSummarum/summa.exe
</code></pre></div></article> <article> <header><h1 class="entry-title"><a href="/blog/2012/03/25/how-to-factory-reset-a-yealink-phone-without-the-admin-password/">How to Factory Reset a Yealink Phone Without the Admin Password</a></h1><p class="meta"><time datetime="2012-03-25T18:51:32+02:00" pubdate data-updated="true">Mar 25<span>th</span>, 2012</time></p> </header><div class="entry-content"><p>If you ever find yourself locked out of a Yealink phone, and do not know the admin password, you can quickly reset the phone to Factory Default Settings.</p><p>Simply press and hold the ‘OK’ key on the face of the phone for 10 seconds. This will prompt you to accept or decline a factory reset. If you accept, the unit it will restore itself to factory default settings - without the need the admin password.</p><p>The entire process takes roughly 30 seconds.</p></div></article> <article> <header><h1 class="entry-title"><a href="/blog/2010/08/31/review-logitech-squeezebox-touch-sumoh-tinyamp-s60/">Review: Logitech Squeezebox Touch and SUMOH TinyAmp S60</a></h1><p class="meta"><time datetime="2010-08-31T20:29:34+02:00" pubdate data-updated="true">Aug 31<span>st</span>, 2010</time></p> </header><div class="entry-content"><h2>Logitech Squeezebox Touch</h2><p><img src="http://static.x2q.net/Logitech-Squeezebox-Touch.jpg" title=""></p><p>Squeezebox Touch is equipped with a 4.3 inch touch color screen. The Touch can be operated directly by clicking on menus, as it can be operated with the included infrared <a href="http://en.wikipedia.org/wiki/Remote_control">remote control</a>, and of course, is compatible with the Squeezebox Controller. When Touch is controlled by infrared remote control, enlarged the font on the display automatically, so it can be read at greater distances. Squeezebox Touch can also be operated with e.g. an iPod Touch or <a href="http://www.apple.com/iphone">iPhone</a>.</p><h3>Light Sensor Automatically Adjusts Display Brightness</h3><p>The Touch is equipped with a light sensor that automatically adjusts display brightness to ambient light level. The Touch also has an infrared motion sensor, which enables the Touch to wake up when you approach it. The Touch can be powered from the digital amplifier directly from the SUMOH TinyAmp S60.</p><h3>High Definition Audio</h3><p>Squeezebox Touch is equipped with a DAC that supports playback of files in 24 bit/96 kHz resolution. Playback can be done from Mac, PC or different NAS servers, but the Squeezebox Touch also has built-in USB port and SD slot. You can play music from both various USB drives and <a href="http://en.wikipedia.org/wiki/Secure_Digital">SD cards</a>, just like you on the screen can display images from same.</p><h2>SUMOH TinyAmp S60</h2><p>Combined with SUMOH TinyAmp S60 the sound quality is absolutely fair above average. I think most of the high quality can be explained by the lack of analog involvement - the only analog step if the is the output from the amplifier - the rest is pure digital (keep in mind that some recordings might involve analog steps as well).</p><p>Sumoh TinyAmp S60 is a 100% digital amplifier, directly designed for use with the Logitech Squeezebox, or other similar digital players. Volume adjusted from Squeezebox having variable digital outputs, or from another digital source with variable output. The amplifier turns on and off itself, depending on if there is any signal from the Squeezebox digital output. Very fancy ;-)</p><p><img src="http://static.x2q.net/SUMOH-TinyAmp-S60.jpg"></p><h2>Based on Texas Instruments</h2><p>Based on PurePathTM Digital from Texas Instruments and an ideal partner for the Squeezebox and <a href="http://www.apple.com">Apple</a> <a href="http://www.apple.com/wifi">Airport Express</a> The amplifier is based on the latest technology from Texas Instruments, PurePathTM Digital, and is the only 100% digital amplifier in the world in its price range. The technology is also used in much more expensive amplifiers. TinyAmp may be very cheap, but do not expect that the low price is reflected in the service. TinyAmp S60 can be used also in the primary listening room, just the size of the room and speaker efficiency taken into account.</p><p>TinyAmp S60 has an outlet to power Squeezebox products. At the amplifier’s back panel is a switch where you choose between 5V supply for Squeezebox Touch or Classic, or 9V to Squeezebox Receiver. Moreover it has 4 gold-plated banana plugs for connecting speaker cables. Sumoh TinyAmp S60 is built in aluminum and measures just approx. 150x150x40 mm.</p><h2>TinyAmp S60 Audio Performance Specifications</h2><pre><code>Power output, 4 Ω (10% THD+N)  65W
Power output, 4 Ω (0dBFS)  60W
Power output, 6 Ω (10% THD+N)  55W
Power output, 6 Ω (0dBFS)  50W
Power output, 8 Ω (10% THD+N)  40W
Power output, 8 Ω (0dBFS)  35W
Total hamornic distortion (-2.5dBFS, 8 Ω)  &lt;0.09 %
Dynamic Range, a-weighted   103 dB
Signal-to-noise ratio   103 dB
Channel separation  90 dB
Frequency response, audio range (20Hz - 20kHz)  +/-0.5dB
</code></pre><p>Squeezebox Touch is, of course, capable to play music from <a href="http://en.wikipedia.org/wiki/Internet_radio">Internet radio</a> stations and other online music services, like the rest of the products in the Squeezebox family. Squeezebox Touch can connect to <a href="http://facebook.com">Facebook</a>. You can view your Facebook page on the display and immediately send recommendations on exciting music you hear to your Facebook friends. Squeezebox Touch has an analog RCA output, a digital Toslink output and a digital coaxial output, just as there are mini-jack output for connecting headphones.</p></div></article><div class="pagination"> <a class="prev" href="/blog/page/4/">← Older</a> <a href="/blog/archives">Blog Archives</a> <a class="next" href="/blog/page/2/">Newer →</a></div></div> <aside class="sidebar"> <section><h1>Recent Posts</h1><ul id="recent_posts"><li class="post"> <a href="/blog/2013/01/14/rip-aaron-swartz/">RIP Aaron Swartz</a></li><li class="post"> <a href="/blog/2013/01/13/howto-create-a-real-multi-resolution-favicon/">Howto create a real multi-resolution favicon</a></li><li class="post"> <a href="/blog/2012/12/01/fast-static-sites-with-ruby-on-heroku-slash-cedar/">Fast Static Sites with Ruby on Heroku/Cedar</a></li><li class="post"> <a href="/blog/2012/11/20/pretty-printing-xml-with-xmllint/">Pretty Printing XML with xmllint</a></li><li class="post"> <a href="/blog/2012/10/28/install-r-on-ubuntu/">Install R on Ubuntu</a></li></ul> </section><section><h1>GitHub Repos</h1><ul id="gh_repos"><li class="loading">Status updating…</li></ul> <a href="https://github.com/x2q">@x2q</a> on GitHub <script>$.domReady(function(){if(!window.jXHR){var e=document.createElement("script");e.type="text/javascript",e.src="/javascripts/libs/jXHR.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}github.showRepos({user:"x2q",count:3,skip_forks:!0,target:"#gh_repos"})})</script><scriptsrc="/javascripts/github.js"></script></section><section><h1>On Delicious</h1><div id="delicious"></div> <script src="http://feeds.delicious.com/v2/json/x2q?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script><p><a href="http://delicious.com/x2q">My Delicious Bookmarks »</a></p> </section><section><h1>Popular Posts</h1><ul id="recent_posts"><li class="post"> <a href="/blog/2010/04/03/hack-wireless-network/">How to Hack a Wireless Network</a></li><li class="post"> <a href="/blog/2010/04/16/mysql-identify-worst-performing-indexes/">MySQL: Identify The Worst Performing Indexes</a></li><li class="post"> <a href="/blog/2010/04/17/crack-password-protected-pdf-pdfcrack/">Crack Password Protected PDF With pdfcrack</a></li><li class="post"> <a href="/blog/2010/04/17/crack-password-encrypted-zip/">How to: Crack Password Encrypted Zip Files</a></li><li class="post"> <a href="/blog/2010/07/04/view-contents-certificate-signing-request-csr/">View The Contents Of A Certificate Signing Request (CSR)</a></li></ul> </section> </aside></div></div> <footer role="contentinfo"><p> Copyright © 2013 - x2q - <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span></p></footer><script>var disqus_shortname="x2q",disqus_script="count.js";(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="http://"+disqus_shortname+".disqus.com/"+disqus_script,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><div id="fb-root"></div> <script>(function(e,t,n){var r,i=e.getElementsByTagName(t)[0];if(e.getElementById(n))return;r=e.createElement(t),r.id=n,r.src="//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1",i.parentNode.insertBefore(r,i)})(document,"script","facebook-jssdk")</script><script>(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="http://platform.twitter.com/widgets.js",document.getElementsByTagName("head")[0].appendChild(e)})()</script></body></html>